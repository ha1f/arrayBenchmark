## Copy-on-write



## 変化点

capacityで見れる。
予め分かる場合は、reserveCapacityすると中間の脱皮コストを減らせる

0 0x0000000102013750 2
2 0x0000000102102260 4
4 0x0000000102104f60 8
8 0x0000000102104fc0 16
16 0x0000000102105060 32
32 0x0000000100f071f0 64
64 0x0000000103800620 188
188 0x0000000103800c20 380
380 0x0000000103803420 764
764 0x000000010100d220 1532
1532 0x0000000101010220 3068
3068 0x0000000101016220 6140
6140 0x0000000101022220 12284
12284 0x0000000102200020 24572
24572 0x0000000102230020 49148
49148 0x0000000102290020 98300
98300 0x0000000102350020 196604
196604 0x00000001024d0020 393212
393212 0x0000000104000020 786428
786428 0x0000000104600020 1572860
1572860 0x0000000105200020 3145724
3145724 0x0000000106a00020 6291452
6291452 0x0000000109a00020 12582908


## グラフでの極大値

786428

393212

271913

196604

98300

90794

24572

12284

## Remove

スタートは変わらず、消した部分よりも後ろがずれている。
→長い配列の前の方を消すとロスが大きい？

Optional(0x0000000101815320)
Optional(0x00000001018154b0) Optional(50)
Optional(0x0000000101815638)

Optional(0x0000000101815320)
Optional(0x00000001018154b0) Optional(51)
Optional(0x0000000101815630)

Optional(0x0000000101815320)
Optional(0x00000001018154b0) Optional(52)
Optional(0x0000000101815628)
